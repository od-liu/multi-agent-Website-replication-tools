# 测试账号信息

## 用于快速测试的账号

### 测试账号 1
- **用户名**: `testuser`
- **密码**: `password123`
- **邮箱**: `test@example.com`
- **手机号**: `13800138000`
- **证件号后4位**: `1234`

### 测试账号 2
- **用户名**: `user2`
- **密码**: `pass456`
- **邮箱**: `user2@example.com`
- **手机号**: `13900139000`
- **证件号后4位**: `5678`

## 测试流程

### 完整登录流程测试

1. **启动后端服务**
   ```bash
   cd backend
   npm start
   ```
   后端将在 `http://localhost:3000` 启动

2. **启动前端服务**
   ```bash
   cd frontend
   npm run dev
   ```
   前端将在 `http://localhost:5173` 启动

3. **访问登录页面**
   在浏览器中打开 `http://localhost:5173`

4. **测试登录**
   - 输入用户名：`testuser`
   - 输入密码：`password123`
   - 点击"立即登录"

5. **测试短信验证**
   - 在弹出的短信验证窗口中
   - 输入证件号后4位：`1234`
   - 点击"获取验证码"
   - 验证码会在浏览器控制台显示（开发环境）
   - 输入验证码
   - 点击"确定"

6. **验证成功**
   - 控制台会显示"验证成功，跳转到个人中心页面"

## 测试场景

### 前端验证测试
- ❌ 用户名为空 → "请输入用户名！"
- ❌ 密码为空 → "请输入密码！"
- ❌ 密码少于6位 → "密码长度不能少于6位！"

### 后端验证测试
- ❌ 用户名未注册 → "用户名或密码错误！"
- ❌ 密码错误 → "用户名或密码错误！"
- ✅ 登录成功 → 弹出短信验证窗口

### 短信验证测试
- ❌ 证件号错误 → "请输入正确的用户信息！"
- ❌ 频繁请求 → "请求验证码过于频繁，请稍后再试！"
- ❌ 证件号为空 → "请输入登录账号绑定的证件号后4位"
- ❌ 证件号长度不正确 → "请输入登录账号绑定的证件号后4位"
- ❌ 验证码为空 → "请输入验证码"
- ❌ 验证码长度不正确 → "请输入正确的验证码"
- ❌ 验证码错误 → "很抱歉，您输入的短信验证码有误。"
- ✅ 验证成功 → "验证成功"

## 测试命令

### 运行所有测试
```bash
# 后端测试
cd backend
npm test

# 前端测试
cd frontend
npm test
```

### 测试结果
- **后端测试**: 35 个测试全部通过 ✅
- **前端测试**: 13 个测试全部通过 ✅
- **总计**: 48 个测试全部通过 ✅

## 数据库

### 主数据库
- 位置: `backend/database.db`
- 用途: 生产数据存储

### 测试数据库
- 位置: `backend/test_database.db`
- 用途: 测试时使用，与主数据库隔离

## 注意事项

1. ✅ 所有测试必须通过才能认为功能完成
2. ✅ 测试使用独立的测试数据库，不污染主数据库
3. ✅ 验证码在开发环境下会在控制台显示
4. ✅ 实际生产环境应通过短信服务发送验证码
5. ✅ 密码在实际生产中应该加密存储（当前为明文，仅用于演示）

