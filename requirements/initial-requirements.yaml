# 登录页面初始需求文档
# 这是提供给 UI Analyzer Agent 的输入文档
# 只包含业务功能和场景，不包含UI细节

- id: REQ-LOGIN-PAGE
  name: 登录页面
  description: |
    用户登录主页面，包含登录表单和短信验证功能。
    
    主要功能：
    - 用户可以使用用户名/邮箱/手机号登录
    - 支持密码输入和验证
    - 登录成功后需要短信验证
    - 提供注册和找回密码的入口
    
    页面参考：
    - 整体页面截图: "./images/整体页面截图/登录页面.png"
    - 页面宽度参考: 1920px（用于计算相对尺寸）
    
    页面资源：
    - 背景图片: "/images/登录页-背景-新.jpg" (中间内容区域的背景图片)
  
  dependencies: []
  scenarios: []
  
  children:
    - id: REQ-TOP-NAV
      name: 顶部导航
      description: |
        页面顶部导航栏，包含品牌Logo和欢迎文字。
        
        功能要求：
        - 显示12306品牌Logo和名称
        - 显示欢迎文字"欢迎登录12306"
        - Logo点击可跳转到首页
        
        组件参考：
        - 特写截图: "./images/组件特写截图/登录页-顶部导航区域.png"
        
        组件资源：
        - Logo图片: "/images/登录页-顶部导航区域-中国铁路Logo.png" (品牌Logo，使用在网页中)
      
      dependencies: []
      scenarios: []
      children: []
    
    - id: REQ-LOGIN-FORM
      name: 登录表单
      description: |
        用户输入凭据进行登录的表单。
        
        功能要求：
        - 支持账号登录和扫码登录两种模式
        - 账号登录支持用户名/邮箱/手机号
        - 需要输入密码
        - 提供"立即注册"和"忘记密码"链接
        
        组件参考：
        - 特写截图: "./images/组件特写截图/登录表单区域-登录表单.png"
      
      dependencies: []
      
      scenarios:
        - name: 校验用户名为空
          given: 用户在登录页面未输入用户名或手机号或邮箱
          when: 用户点击"立即登录"
          then: 显示错误提示"请输入用户名！"
          
        - name: 校验密码为空
          given: 用户在登录页面输入了用户名但未输入密码
          when: 用户点击"立即登录"
          then: 显示错误提示"请输入密码！"
          
        - name: 校验密码长度
          given: 用户在登录页面输入了用户名和小于6位的密码
          when: 用户点击"立即登录"
          then: 显示错误提示"密码长度不能少于6位！"
          示例截图: "./images/交互状态截图/登录表单区域-密码长度不能少于6位提示.png"
          
        - name: 用户名未注册
          given: 用户在登录页面输入了符合格式要求但未注册的用户名
          when: 用户点击"立即登录"
          then: 显示错误提示"用户名或密码错误！"，密码输入框被清空
          
        - name: 密码错误
          given: 用户在登录页面输入了已注册的用户名但密码错误
          when: 用户点击"立即登录"
          then: 显示错误提示"用户名或密码错误！"，密码输入框被清空
          
        - name: 登录成功
          given: 用户在登录页面输入了已注册的用户名/邮箱/手机号和正确密码
          when: 用户点击"立即登录"
          then: 弹出短信验证窗口
      
      children: []
    
    - id: REQ-BOTTOM-NAV
      name: 底部导航
      description: |
        页面底部的友情链接和二维码展示区域。
        
        功能要求：
        - 显示友情链接（合作伙伴Logo）
        - 显示四个官方平台二维码
        - 提供扫码关注入口
        
        组件参考：
        - 特写截图: "./images/组件特写截图/登录页-底部导航区域.png"
        
        组件资源：
        - 友情链接图片: "/images/友情链接.png" (合作伙伴Logo集合，使用在网页中)
        - 中国铁路官方微信二维码: "/images/中国铁路官方微信二维码.png" (使用在网页中)
        - 中国铁路官方微博二维码: "/images/中国铁路官方微博二维码.png" (使用在网页中)
        - 12306公众号二维码: "/images/12306公众号二维码.png" (使用在网页中)
        - 铁路12306二维码: "/images/铁路12306二维码.png" (使用在网页中)
      
      dependencies: []
      scenarios: []
      children: []
    
    - id: REQ-SMS-VERIFICATION
      name: 短信验证
      description: |
        登录成功后的短信验证流程。
        
        功能要求：
        - 用户需要输入证件号后4位
        - 点击"获取验证码"发送验证码
        - 验证码显示在浏览器控制台
        - 输入验证码完成验证
        - 限制验证码发送频率（1分钟内不可重复发送）
        
        组件参考：
        - 特写截图: "./images/组件特写截图/短信验证弹窗.png"
      
      dependencies:
        - REQ-LOGIN-FORM
      
      scenarios:
        - name: 获取验证码-证件号错误
          given: 用户输入了错误的证件号后4位
          when: 用户点击"获取验证码"按钮
          then: 显示错误提示"请输入正确的用户信息！"，按钮进入倒计时状态
          示例截图: "./images/交互状态截图/短信验证弹窗-请输入正确用户信息提示.png"
          
        - name: 获取验证码-成功
          given: 用户输入了正确的证件号后4位，且1分钟内未发送过验证码
          when: 用户点击"获取验证码"按钮
          then: 发送验证码到浏览器控制台，按钮进入倒计时状态，显示成功提示
          示例截图: "./images/交互状态截图/短信验证弹窗-获取手机验证码成功提示.png"
          
        - name: 获取验证码-频率限制
          given: 用户输入了正确的证件号后4位，但1分钟内已发送过验证码
          when: 用户点击"获取验证码"按钮
          then: 显示错误提示"请求验证码过于频繁，请稍后再试！"
          
        - name: 验证-证件号为空
          given: 用户未输入证件号后4位
          when: 用户点击"确定"按钮
          then: 显示错误提示"请输入登录账号绑定的证件号后4位"
          
        - name: 验证-证件号长度不正确
          given: 用户输入的证件号后4位长度不为4位
          when: 用户点击"确定"按钮
          then: 显示错误提示"请输入登录账号绑定的证件号后4位"
          
        - name: 验证-验证码为空
          given: 用户输入了正确的证件号后4位但未输入验证码
          when: 用户点击"确定"按钮
          then: 显示错误提示"请输入验证码"
          
        - name: 验证-验证码长度不正确
          given: 用户输入了正确的证件号后4位但验证码少于6位
          when: 用户点击"确定"按钮
          then: 显示错误提示"请输入正确的验证码"
          
        - name: 验证-验证码错误
          given: 用户输入了正确的证件号后4位和6位验证码，但验证码不正确
          when: 用户点击"确定"按钮
          then: 显示错误提示"很抱歉，您输入的短信验证码有误。"
          
        - name: 验证-验证码过期
          given: 用户输入了正确的证件号后4位和6位验证码，但验证码已过期
          when: 用户点击"确定"按钮
          then: 显示错误提示"验证码已过期"
          
        - name: 验证-成功
          given: 用户输入了正确的证件号后4位和6位验证码，验证码未过期
          when: 用户点击"确定"按钮
          then: 验证通过，用户登录成功，跳转到个人中心页面
      
      children: []

