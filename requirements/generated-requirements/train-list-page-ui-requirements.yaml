# 车次列表页 UI 需求文档（完整版）
# 基于初始需求文档 + UI Analyzer 分析生成
# 生成时间: 2026-01-16

- id: REQ-TRAIN-LIST-PAGE
  name: 车次列表页
  description: |
    显示查询结果的车次列表页面，用户可以筛选和选择车次。
    
    **网站地址**: http://localhost:5173/trains (需要先从首页查询后跳转)
    **页面宽度参考**: 1920px
    **页面标识**: train-list
    
    **访问方式**:
    1. 先访问首页 http://localhost:5173
    2. 填写查询条件（如：北京 -> 上海，明天日期）
    3. 点击查询按钮
    4. 自动跳转到车次列表页
    
    **需要的图片资源**:
    - Logo（顶部导航，可以复用首页该资源）
    - 导航菜单图标（如有）
    - 筛选图标（如有）
    - 无结果提示图片（如有）
    - 二维码（底部导航，4个：中国铁路官方微信、中国铁路官方微博、12306公众号、铁路12306，可以复用首页资源）
    - 友情链接（底部导航，4个：2行2列布局，可以复用首页资源）
    
    **主要功能**：
    - 显示查询条件摘要
    - 支持修改查询条件（出发地、目的地、日期）
    - 显示车次列表（车次号、出发/到达时间、历时、余票等）
    - 支持多维度筛选（车次类型、出发时间段、车站、席别等）
    - 支持排序（出发时间、历时、票价等）
    - 点击车次可以预订
    
    --- 以下是 UI Analyzer 添加的详细分析 ---
    
    **页面尺寸信息**（从实际 DOM 测量）:
    - 页面实际宽度: 1512px（内容居中）
    - 页面高度: 1011px（滚动页面）
    - 视口宽度: 1512px
    - 视口高度: 805px
    
    **整体布局分析**:
    
    ```
    ┌─────────────────────────────────────────────┐
    │  顶部导航栏 (.train-list-top-bar)          │  85px
    │  - Logo + 搜索栏 + 用户信息                 │
    ├─────────────────────────────────────────────┤
    │  主导航菜单 (.main-navigation)             │  46px
    │  - 首页、车票、团购服务、会员服务...        │
    ├─────────────────────────────────────────────┤
    │                                             │  
    │  ┌───────────────────────────────────────┐ │
    │  │ 查询条件栏 (.train-search-bar)        │ │  82px
    │  │ - 单程/往返 + 城市 + 日期 + 查询      │ │
    │  └───────────────────────────────────────┘ │
    │  ┌───────────────────────────────────────┐ │
    │  │ 筛选条件区域 (.train-filter-panel)    │ │  283px
    │  │ - 日期快捷选择（15个日期按钮）        │ │
    │  │ - 车次类型筛选（8个复选框）           │ │
    │  │ - 发车时间下拉选择                     │ │
    │  │ - 出发车站筛选（4个复选框）           │ │
    │  │ - 到达车站筛选（3个复选框）           │ │
    │  │ - 车次席别筛选（9个复选框）           │ │
    │  └───────────────────────────────────────┘ │
    │  ┌───────────────────────────────────────┐ │
    │  │ 车次列表 (.train-list)                │ │  自适应
    │  │ - 表头（车次、站、时间、席别...）     │ │
    │  │ - 车次行（G12、D9、D8...）            │ │
    │  └───────────────────────────────────────┘ │
    │                                             │
    ├─────────────────────────────────────────────┤
    │  底部导航 (.bottom-navigation)             │  197px
    │  - 友情链接 (2x2 网格)                      │
    │  - 二维码 (1x4 横排)                        │
    └─────────────────────────────────────────────┘
    ```
    
    **颜色体系**:
    - 主导航背景色: rgb(59, 153, 252) - #3B99FC (蓝色)
    - 查询栏背景色: rgb(239, 241, 249) - #EFF1F9 (淡蓝色)
    - 白色背景: rgb(255, 255, 255) - #FFFFFF
    - 浅灰背景: rgb(245, 245, 245) - #F5F5F5 (底部导航)
    - 主要文本: rgb(51, 51, 51) - #333333
    - 次要文本: rgb(102, 102, 102) - #666666
    - 禁用文本: rgb(153, 153, 153) - #999999
    - 有票绿色: rgb(82, 196, 26) - #52C41A
    - 错误红色: rgb(211, 47, 47) - #D32F2F
    - 警告橙色: rgb(255, 102, 0) - #FF6600
    
    **CSS 布局方式**:
    - 整体: 垂直布局（从上到下堆叠）
    - 查询条件栏: Flexbox 横向布局，间距16px
    - 筛选条件: 多行 Flexbox，每行独立
    - 车次列表: Grid 布局（17列）
    - 底部导航: Flexbox，左右分布
    
    **网页资源**:
    - Logo: "../homepage/首页-顶部导航-Logo.png" (60×60px，复用首页)
    - 搜索图标: "../homepage/首页-顶部导航-搜索图标.svg" (30×30px，复用首页)
    - 交换图标: "./train-list/车次列表页-查询条件栏-交换图标.svg" (20×20px，新下载)
    - 友情链接: 4个，复用首页资源（详见 metadata.json）
    - 二维码: 4个，复用首页资源（详见 metadata.json）
    
    参考图片: "./images/train-list/整体页面截图/车次列表页.png"
  
  dependencies: []
  scenarios: []
  
  children:
    - id: REQ-TRAIN-LIST-TOP-NAV
      name: 顶部导航栏（可以直接复用注册页/首页的顶部导航栏）
      description: |
        页面顶部导航栏（与首页共用）。
        
        **需要截图**: 是
        **组件定位**: 页面最上方，横向占据整个页面宽度
        **定位提示**: header, nav, .header, [role="banner"]
        
        **功能要求**：
        - 显示12306品牌Logo
        - 显示主导航菜单
        - 显示用户登录状态
        - Logo点击返回首页
        
        --- 以下是 UI Analyzer 添加的详细分析 ---
        
        **位置信息**:
        - 父容器: .train-list-page（页面根容器）
        - 位置: 页面最顶部
        - 坐标: (0, 0)
        - 尺寸: 1512px × 85px
        - 布局: Flexbox 横向，space-between
        
        **HTML 结构** (简化):
        
        > ⚠️ 实际 class 名称: `.train-list-top-bar`
        
        ```html
        <div class="train-list-top-bar">
          <!-- Logo 区域 -->
          <div class="logo-section">
            <img src="/images/logo.png" alt="中国铁路12306" />
            <div class="logo-text">
              <div class="logo-text-main">中国铁路12306</div>
              <div class="logo-text-sub">12306 CHINA RAILWAY</div>
            </div>
          </div>
          
          <!-- 搜索栏 -->
          <div class="search-bar">
            <input type="text" placeholder="搜索车票、餐饮、常旅客、相关规章" />
            <button><img src="/images/search.svg" alt="搜索" /></button>
          </div>
          
          <!-- 右侧功能链接 -->
          <div class="action-links">
            <a href="#">无障碍</a>
            <a href="#">敬老版</a>
            <a href="#">English</a>
            <a href="#">我的12306</a>
            <div class="user-info">
              您好，请 <a href="/login">登录</a>
            </div>
            <a href="/register">注册</a>
          </div>
        </div>
        ```
        
        **关键样式参数**:
        - 背景色: rgb(255, 255, 255)
        - 阴影: rgba(0, 0, 0, 0.05) 0px 1px 3px 0px
        - 内边距: 0 176px（左右边距）
        - Logo 尺寸: 60×60px
        - 搜索框宽度: 240px，高度36px
        - 字体大小: Logo标题20px，英文副标题12px，链接14px
        
        **网页资源**:
        - Logo: "../homepage/首页-顶部导航-Logo.png" (原始55×63px，显示60×60px)
        - 搜索图标: "../homepage/首页-顶部导航-搜索图标.svg" (原始200×200px，显示30×30px)
        
        参考图片: "./images/train-list/组件特写截图/顶部导航栏.png"
      
      dependencies: []
      scenarios: []
      children: []
    
    - id: REQ-TRAIN-SEARCH-BAR
      name: 查询条件栏
      description: |
        显示当前查询条件，支持快速修改。
        
        **需要截图**: 是
        **组件定位**: 页面顶部导航下方，横向占据页面宽度，高度约60-80px
        **定位提示**: .search-bar, .query-bar, .ticket-search, [class*="search"]
        
        **功能要求**：
        - 显示当前出发地、目的地、日期
        - 支持点击修改出发地、目的地、日期
        - 提供出发地和目的地互换按钮
        - 提供"重新查询"或"查询"按钮
        - 显示前一天/后一天日期切换按钮
        
        **交互场景截图**:
          - name: "修改查询条件"
            description: "测试点击出发地修改查询条件"
            steps:
              - action: click
                target: "出发城市"
                target_hint: ".from-station, [class*='from'], input[placeholder*='出发']"
              - action: wait
                duration: 1
              - action: screenshot
                filename: "查询条件栏-修改出发地.png"
              - action: 在需求文档中注明出发城市下拉框的详细参数
        
        --- 以下是 UI Analyzer 添加的详细分析 ---
        
        **位置信息**:
        - 父容器: .train-list-content
        - 位置: 主导航菜单下方，页面内容区域第一个组件
        - 坐标: (176, 151) - 居中对齐
        - 尺寸: 1160px × 82px
        - 布局: Flexbox 横向，gap: 16px
        
        **HTML 结构** (简化):
        
        > ⚠️ 实际 class 名称: `.train-search-bar`
        
        ```html
        <div class="train-search-bar">
          <!-- 单程/往返选择 -->
          <div class="trip-type-selector">
            <label class="trip-type-option">
              <input type="radio" name="tripType" value="single" checked />
              <span>单程</span>
            </label>
            <label class="trip-type-option">
              <input type="radio" name="tripType" value="round" />
              <span>往返</span>
            </label>
          </div>
          
          <!-- 出发城市 -->
          <div class="station-input">
            <label>出发城市</label>
            <input type="text" placeholder="请选择城市" value="北京" />
          </div>
          
          <!-- 交换按钮 -->
          <button class="exchange-button">
            <img src="/images/转换2.svg" alt="交换" />
          </button>
          
          <!-- 目的城市 -->
          <div class="station-input">
            <label>目的城市</label>
            <input type="text" placeholder="请选择城市" value="上海" />
          </div>
          
          <!-- 出发日期 -->
          <div class="date-input">
            <label>出发日</label>
            <div class="date-field">
              <input type="text" placeholder="请选择日期" value="1月16日 周五" />
              <img src="/images/calendar-icon.svg" alt="日历" />
            </div>
          </div>
          
          <!-- 返程日期 -->
          <div class="date-input">
            <label>返程日</label>
            <div class="date-field">
              <input type="text" placeholder="请选择日期" value="1月16日 周五" disabled />
              <img src="/images/calendar-icon.svg" alt="日历" />
            </div>
          </div>
          
          <!-- 普通/学生选择 -->
          <div class="passenger-type-selector">
            <label class="passenger-type-option">
              <input type="radio" name="passengerType" value="normal" checked />
              <span>普通</span>
            </label>
            <label class="passenger-type-option">
              <input type="radio" name="passengerType" value="student" />
              <span>学生</span>
            </label>
          </div>
          
          <!-- 查询按钮 -->
          <button class="search-button">查询</button>
        </div>
        ```
        
        **关键样式参数**:
        - 背景色: rgb(239, 241, 249) - 淡蓝色
        - 内边距: 16px
        - 圆角: 4px
        - 元素间距: 16px (gap)
        - 输入框宽度: 140px (城市), 160px (日期)
        - 输入框高度: 36px
        - 交换按钮: 32×32px，圆形
        - 查询按钮: 100×40px，蓝色背景
        
        **网页资源**:
        - 交换图标: "./train-list/车次列表页-查询条件栏-交换图标.svg" (原始200×200px，显示20×20px)
          * 实现方式: <img> 标签
          * CSS策略: width: 20px; height: 20px;
        
        参考图片: "./images/train-list/组件特写截图/查询条件栏.png"
      
      dependencies: []
      
      scenarios:
        # ✅ 以下 scenarios 完整保留自初始需求文档
        
        # 4.3.1 用户未输入出发地或到达地或出发日期时，系统自动填充默认值
        - name: 用户未输入出发地自动填充默认值
          given: 用户在车票查询页面
          when: 用户未在车次搜索和查询区域的搜索栏中输入出发地或还未进行输入出发地操作
          then: 系统在"出发地"输入框填入默认状态，即"请选择城市"
          
        - name: 用户未输入到达地自动填充默认值
          given: 用户在车票查询页面
          when: 用户未在车次搜索和查询区域的搜索栏中输入到达地或还未进行输入到达地操作
          then: 系统在"到达地"输入框填入默认状态，即"请选择城市"
          
        - name: 用户未输入出发日期自动填充当前日期
          given: 用户在车票查询页面
          when: 用户未在车次搜索和查询区域的搜索栏中输入出发日期或还未进行输入出发日期操作
          then: 系统在"出发日期"输入框填入默认状态，即当前日期
          
        # 4.3.2 用户未输入出发地或到达地，点击"查询"按钮
        - name: 用户未输入出发地点击查询
          given: 用户在车票查询页面，用户在车次搜索和查询区域的搜索栏中未输入出发地
          when: 用户点击"查询"按钮
          then: "出发地"输入框下方出现错误提示"请选择出发城市"，文字颜色#d32f2f（红色），字体大小12px，绝对定位在输入框下方，上边距2px，"出发地"输入框边框变为#d32f2f（红色）
          
        - name: 用户未输入到达地点击查询
          given: 用户在车票查询页面，用户在车次搜索和查询区域的搜索栏中输入了出发地但未输入到达地
          when: 用户点击"查询"按钮
          then: "到达地"输入框下方出现错误提示"请选择到达城市"，文字颜色#d32f2f（红色），字体大小12px，绝对定位在输入框下方，上边距2px，"到达地"输入框边框变为#d32f2f（红色）
          
        # 4.3.3 校验用户输入的出发地是否合法
        - name: 出发地不在数据库城市列表中
          given: 用户在车次搜索和查询区域的出发地输入框中输入了一个不在数据库中的城市作为出发地
          when: 用户在车次搜索和查询区域中点击"查询"
          then: 查询按钮上方出现系统提示"无法匹配该出发城市"，文字颜色#d32f2f（红色），字体大小13px，内边距8px 20px，背景#ffebee（浅红色），圆角4px，上边距10px，系统在出发地输入框下拉条目中推荐具有一定相似度的数据库中的城市，用户可以点击推荐城市，将其填充到出发地输入框中
          
        # 4.3.4 校验用户输入的到达地是否合法
        - name: 到达地不在数据库城市列表中
          given: 用户在车次搜索和查询区域的到达地输入框中输入了一个不在数据库的城市作为到达地
          when: 用户在车次搜索和查询区域中点击"查询"
          then: 查询按钮上方出现系统提示"无法匹配该到达城市"，文字颜色#d32f2f（红色），字体大小13px，内边距8px 20px，背景#ffebee（浅红色），圆角4px，上边距10px，系统在到达地输入框下拉条目中推荐具有一定相似度的数据库中的城市，用户可以点击推荐城市，将其填充到到达地输入框中
          
        # 4.3.5 合法出发地推荐
        - name: 合法出发地推荐
          given: 用户在车票查询页面
          when: 用户在车次搜索和查询区域中点击出发地输入框
          then: 系统在出发地输入框下拉条目中显示数据库存储的所有站点，用户可以点击推荐城市，将其填充到出发地输入框中
          
        # 4.3.6 合法到达地推荐
        - name: 合法到达地推荐
          given: 用户在车票查询页面
          when: 用户在车次搜索和查询区域中点击到达地输入框
          then: 系统在到达地输入框下拉条目中显示数据库存储的所有站点，用户可以点击推荐城市，将其填充到到达地输入框中
          
        # 4.3.7 合法出发日期推荐
        - name: 合法出发日期推荐
          given: 用户在车票查询页面
          when: 用户在车次搜索和查询区域中点击出发日期选择框
          then: 系统在出发日期选择框下拉条目中显示日历，已放票的日期显示为黑色，不能选择已过期或未开票的日期显示为灰色，用户如果点击已放票的日期，将其填充到出发日期选择框中，用户如果点击已过期或未放票的日期，页面保持不变，无法将该日期填充到出发日期选择框内
          
        # 4.3.8 用户成功查询且系统响应
        - name: 查询成功且系统响应
          given: 用户在车票查询页面的车次搜索和查询区域中输入了正确的出发地、到达地、出发日期
          when: 用户点击"查询"按钮
          then: 系统在100毫秒内在车票查询页面的车次列表区域显示符合用户选择的出发地、到达地、出发日期且是"GC-高铁/城际"，"D-动车"的所有车次信息列表
          
        # 4.3.9 用户成功查询但系统未响应
        - name: 查询失败系统未响应
          given: 用户在车票查询页面的车次搜索和查询区域中输入了正确的出发地、到达地、出发日期
          when: 用户点击"查询"按钮
          then: 系统未在100毫秒内显示符合用户选择的出发地、到达地、出发日期且是"GC-高铁/城际"，"D-动车"的所有车次信息列表，查询按钮上方出现系统提示"查询失败，请稍后重试"，文字颜色#d32f2f（红色），字体大小13px，内边距8px 20px，背景#ffebee（浅红色），圆角4px，上边距10px
      
      children: []
    
    - id: REQ-TRAIN-FILTER
      name: 筛选条件区域
      description: |
        车次筛选条件，支持多维度筛选。
        
        **需要截图**: 是
        **组件定位**: 位于车次列表上方或左侧，通常为多行横向布局
        **定位提示**: .filter, .screen, [class*="filter"]
        
        **功能要求**：
        - 车次类型筛选（高铁/动车、普通列车、D字头、G字头、K字头等）
        - 出发时间段筛选（00:00-06:00、06:00-12:00、12:00-18:00、18:00-24:00）
        - 出发车站筛选（如有多个车站）
        - 到达车站筛选（如有多个车站）
        - 席别筛选（商务座、一等座、二等座、硬座、硬卧、软卧等）
        - 是否只看有票
        - 支持多选和取消选择
        - 显示筛选结果数量
        
        **交互场景截图**:
          - name: "车次类型筛选"
            description: "测试点击高铁/动车筛选"
            steps:
              - action: evaluate
                script: "location.reload()"
              - action: wait
                duration: 2
              - action: click
                target: "出发城市输入框"
                target_hint: "input[placeholder*='出发'], .from-station, [class*='from']"
              - action: type
                text: "北京"
              - action: wait
                duration: 0.5
              - action: click
                target: "到达城市输入框"
                target_hint: "input[placeholder*='到达'], .to-station, [class*='to']"
              - action: type
                text: "上海"
              - action: wait
                duration: 0.5
              - action: click
                target: "查询按钮"
                target_hint: "button:has-text('查询'), .search-button, [class*='search']"
              - action: wait
                duration: 2
              - action: click
                target: "高铁/动车筛选按钮"
                target_hint: "button:has-text('GC-高铁/城际'), .filter-item:has-text('GC-高铁/城际'), [data-type='GC-高铁/城际']"
              - action: wait
                duration: 1
              - action: screenshot
                filename: "筛选条件-高铁筛选激活.png"
              - action: 在说明文档标注筛选中的选项✅按钮的参数信息
                
          - name: "出发时间段筛选"
            description: "测试点击时间段下拉选择器并筛选"
            steps:
              - action: evaluate
                script: "location.reload()"
              - action: wait
                duration: 2
              - action: click
                target: "出发城市输入框"
                target_hint: "input[placeholder*='出发'], .from-station, [class*='from']"
              - action: type
                text: "北京"
              - action: wait
                duration: 0.5
              - action: click
                target: "到达城市输入框"
                target_hint: "input[placeholder*='到达'], .to-station, [class*='to']"
              - action: type
                text: "上海"
              - action: wait
                duration: 0.5
              - action: click
                target: "查询按钮"
                target_hint: "button:has-text('查询'), .search-button, [class*='search']"
              - action: wait
                duration: 2
              - action: click
                target: "发车时间按钮"
                target_hint: "button:has-text('00:00--24:00'), .time-filter-button, [class*='time']"
              - action: wait
                duration: 1
              - action: screenshot
                filename: "筛选条件-时间段下拉框展开.png"
              - action: click
                target: "00:00-06:00时间段选项"
                target_hint: "button:has-text('00:00--06:00'), li:has-text('00:00--06:00')"
              - action: wait
                duration: 0.5
              - action: click
                target: "筛选按钮"
                target_hint: "button:has-text('筛选'), .filter-confirm-button"
              - action: wait
                duration: 1
              - action: screenshot
                filename: "筛选条件-时间段筛选后结果.png"
        
        **时间筛选下拉框参数说明**:
          组件名称: 发车时间筛选下拉框
          触发方式: 点击"00:00--24:00"按钮
          
          下拉框样式:
            - 容器: 白色背景，边框1px solid #e0e0e0，圆角4px，阴影0 2px 8px rgba(0,0,0,0.15)
            - 定位: 绝对定位，在触发按钮下方，左对齐
            - z-index: 1000
            - 宽度: 与触发按钮宽度一致或稍宽（约200-240px）
            
          下拉框选项列表:
            - 选项1: "00:00--24:00" (默认选中，带✓图标)
            - 选项2: "00:00--06:00"
            - 选项3: "06:00--12:00"
            - 选项4: "12:00--18:00"
            - 选项5: "18:00--24:00"
            
          选项样式:
            - 正常状态: 
              - 内边距: 12px 16px
              - 字体大小: 14px
              - 颜色: #333333
              - 背景: 白色
            - 悬停状态:
              - 背景: #f5f5f5
            - 选中状态:
              - 背景: #fff7e6
              - 颜色: #ff6600
              - 右侧显示✓图标，颜色#ff6600
              
          筛选按钮:
            - 位置: 下拉框底部
            - 文字: "筛选"
            - 样式: 宽度100%，高度40px，背景#ff6600（橙色），颜色白色，字体大小14px，无边框，圆角0 0 4px 4px
            - 悬停: 背景变为#ff8533
            
        **车次列表为空时的界面参数**:
          触发条件: 筛选条件过严或查询的时间段内无车次
          
          显示内容:
            - 提示图标: 
              - 类型: 空状态图标（如空文件夹、搜索无结果图标）
              - 大小: 120px x 120px
              - 颜色: #d0d0d0（浅灰色）
              - 位置: 垂直水平居中
              
            - 提示文字:
              - 主标题: "暂无符合条件的车次"
              - 字体大小: 18px
              - 颜色: #666666（深灰色）
              - 字体粗细: font-weight: 500
              - 位置: 图标下方，上边距24px
              
            - 副标题（可选）:
              - 文字: "请尝试调整筛选条件或选择其他日期"
              - 字体大小: 14px
              - 颜色: #999999（灰色）
              - 位置: 主标题下方，上边距12px
              
          容器样式:
            - 最小高度: 400px
            - 内边距: 60px 20px
            - 背景: #fafafa或白色
            - 对齐方式: 垂直水平居中（display: flex, justify-content: center, align-items: center）
        
        --- 以下是 UI Analyzer 添加的详细分析 ---
        
        **位置信息**:
        - 父容器: .train-list-content
        - 位置: 查询条件栏下方
        - 坐标: (176, 249)
        - 尺寸: 1160px × 283px
        - 布局: 垂直堆叠，包含多行筛选项
        
        **HTML 结构** (简化):
        
        > ⚠️ 实际 class 名称: `.train-filter-panel`
        
        ```html
        <div class="train-filter-panel">
          <!-- 日期快捷选择 -->
          <div class="date-shortcuts">
            <button class="date-button active">1-16</button>
            <button class="date-button">1-17</button>
            <button class="date-button">1-18</button>
            <!-- ... 共15个日期按钮 -->
          </div>
          
          <!-- 筛选行容器 -->
          <div class="filter-rows">
            <!-- 第一行：车次类型 + 发车时间 -->
            <div class="filter-row">
              <div class="filter-section">
                <span class="filter-label">车次类型：</span>
                <button class="all-button">全部</button>
                <div class="filter-options">
                  <label class="filter-option">
                    <input type="checkbox" />
                    <span>GC-高铁/城际</span>
                  </label>
                  <label class="filter-option">
                    <input type="checkbox" />
                    <span>D-动车</span>
                  </label>
                  <!-- ... 共8个车次类型 -->
                </div>
              </div>
              
              <div class="filter-section time-section">
                <span class="filter-label">发车时间：</span>
                <select class="time-selector">
                  <option selected>00:00--24:00</option>
                  <option>00:00--06:00</option>
                  <option>06:00--12:00</option>
                  <option>12:00--18:00</option>
                  <option>18:00--24:00</option>
                </select>
              </div>
            </div>
            
            <!-- 第二行：出发车站 -->
            <div class="filter-row">
              <span class="filter-label">出发车站：</span>
              <button class="all-button">全部</button>
              <div class="filter-options">
                <label class="filter-option">
                  <input type="checkbox" />
                  <span>北京南</span>
                </label>
                <!-- ... 共4个车站 -->
              </div>
            </div>
            
            <!-- 第三行：到达车站 -->
            <div class="filter-row">
              <span class="filter-label">到达车站：</span>
              <button class="all-button">全部</button>
              <div class="filter-options">
                <label class="filter-option">
                  <input type="checkbox" />
                  <span>上海虹桥</span>
                </label>
                <!-- ... 共3个车站 -->
              </div>
            </div>
            
            <!-- 第四行：车次席别 -->
            <div class="filter-row">
              <span class="filter-label">车次席别：</span>
              <button class="all-button">全部</button>
              <div class="filter-options">
                <label class="filter-option">
                  <input type="checkbox" />
                  <span>商务座</span>
                </label>
                <!-- ... 共9个席别 -->
              </div>
            </div>
          </div>
          
          <!-- 筛选按钮 -->
          <button class="filter-submit-button">
            <span>↻</span>
            <span>筛选</span>
          </button>
        </div>
        ```
        
        **关键样式参数**:
        - 背景色: rgb(255, 255, 255)
        - 圆角: 4px
        - 阴影: rgba(0, 0, 0, 0.05) 0px 1px 3px 0px
        - 内边距: 16px
        - 日期按钮: 宽度自适应，高度32px
        - 筛选标签: 宽度100px，字体14px
        - 复选框: 16×16px
        - 筛选按钮: 100×36px，橙色背景
        
        参考图片: "./images/train-list/组件特写截图/筛选条件区域.png"
      
      dependencies: []
      
      scenarios:
        # ✅ 以下 scenarios 完整保留自初始需求文档
        
        # 4.5.1 用户通过勾选复选框筛选车次
        - name: 用户筛选某个车次类型
          given: 用户在车票查询页面，车次列表区域已显示
          when: 用户在车次类型筛选栏中勾选某个车次类型复选框
          then: 车次列表区域的车次信息自动更新，仅显示符合该选项的车次，不检查相应车次是否有余票
          
        - name: 用户筛选某个出发站
          given: 用户在车票查询页面，车次列表区域已显示
          when: 用户在出发车站筛选栏中勾选某个出发站复选框
          then: 车次列表区域的车次信息自动更新，仅显示从该出发站出发的车次
          
        - name: 用户筛选某个到达站
          given: 用户在车票查询页面，车次列表区域已显示
          when: 用户在到达车站筛选栏中勾选某个到达站复选框
          then: 车次列表区域的车次信息自动更新，仅显示到达该到达站的车次
          
        - name: 用户筛选某个席别座位
          given: 用户在车票查询页面，车次列表区域已显示
          when: 用户在某个筛选栏（如"车次席别"筛选栏）中勾选某个席别座位复选框
          then: 车次列表区域的车次信息自动更新，仅显示符合该选项的车次，不检查相应车次是否有余票
          
        - name: 用户在同一筛选栏目勾选多个选项
          given: 用户在车票查询页面，车次列表区域已显示
          when: 用户在某个筛选栏（如"车次类型"筛选栏）中勾选多于一个复选框
          then: 车次列表区域的车次信息自动更新，仅显示符合该筛选栏所勾选的选项的车次，不检查相应车次是否有余票（如用户勾选了"GC-高铁/城际"和"D-动车"，则仅显示"G"或"C"开头的车次或"D"字头的车次）
          
        - name: 用户在不同筛选栏目勾选多个选项
          given: 用户在车票查询页面，车次列表区域已显示
          when: 用户在"车次类型"、"出发车站"、"到达车站"、"车次席别"筛选栏中勾选多于一个复选框（如勾选"GC-高铁/城际"、"D-动车"、"出发站A"、"到达站B"、"一等座"）
          then: 车次列表区域的车次信息自动更新，仅显示符合所勾选的"车次类型"、"出发车站"、"到达车站"、"车次席别"的车次，不检查相应车次是否有余票（如用户勾选了"GC-高铁/城际"、"D-动车"、"出发站A"、"到达站B"、"一等座"，则仅显示"G"或"C"开头的车次或"D"字头的车次，从"出发站A"出发到达"到达站B"，有"一等座"的车次）
          
        - name: 用户取消筛选条件
          given: 用户在车次信息筛选区域已勾选"GC-高铁/城际"复选框，车次列表区域的车次信息已筛选
          when: 用户再次点击并取消勾选"GC-高铁/城际"复选框
          then: 车次信息列表自动更新，移除"车次类型"的筛选限制，显示所有符合其他筛选条件的车次
          
        - name: 默认筛选栏初始化
          given: 用户在车票查询页面
          when: 车次信息列表未显示
          then: 系统默认初始化"车次类型"筛选栏选项为"GC-高铁/城际"、"D-动车"，"出发车站"、"到达车站"、"车次席别"筛选栏为空
          
        - name: 自动补全筛选选项栏
          given: 用户在车票查询页面
          when: 车次列表区域的车次信息已显示
          then: 系统自动补全"出发车站"的选项为车次列表区域所有已显示车次的出发站，"到达车站"的选项为所有车次列表区域已显示车次的到达站，系统自动补全"车次席别"的选项为所有车次列表区域已显示车次的席别座位类型
      
      children: []
    
    - id: REQ-TRAIN-LIST
      name: 车次列表
      description: |
        显示符合条件的车次列表，每行是一个车次。
        
        **需要截图**: 是
        **组件定位**: 页面主内容区域，占据大部分空间
        **定位提示**: .train-list, .ticket-list, table, [class*="list"]
        
        **功能要求**：
        - 显示车次号（如G1、D101等）
        - 显示出发车站、到达车站、出发时间、到达时间
        - 显示历时（如2小时15分）
        - 显示各席别余票数量（商务座、一等座、二等座等）
        - 余票不足时显示"无"或"--"
        - 提供"预订"按钮（每行一个）
        - 无票时"预订"按钮置灰不可点击
        - 支持点击车次号查看详情（停靠站信息）
        - 支持悬停高亮当前行
        
        **交互场景截图**:
          - name: "车次列表正常显示"
            description: "获取车次列表的正常显示状态"
            steps:
              - action: wait
                duration: 2
              - action: screenshot
                filename: "车次列表-正常显示.png"
        
        --- 以下是 UI Analyzer 添加的详细分析 ---
        
        **位置信息**:
        - 父容器: .train-list-content
        - 位置: 筛选条件区域下方
        - 坐标: (176, 552)
        - 尺寸: 1160px × 243px（示例显示3个车次）
        - 布局: Grid 布局（17列表格结构）
        
        **HTML 结构** (简化):
        
        > ⚠️ 实际 class 名称: `.train-list`
        
        ```html
        <div class="train-list">
          <!-- 顶部信息栏 -->
          <div class="list-header-info">
            <div>
              <span class="route-info">北京 → 上海</span>
              <span class="date-info">(1月16日 周五)</span>
              <span class="train-count">共3个车次</span>
              <span class="transfer-tip">您可使用中转换乘功能，查询途中换乘一次的部分列车余票情况。</span>
            </div>
            <div class="display-options">
              <label><input type="checkbox" />显示折扣车次</label>
              <label><input type="checkbox" />显示积分兑换车次</label>
              <label><input type="checkbox" />显示全部可预订车次</label>
            </div>
          </div>
          
          <!-- 表头 -->
          <div class="list-header">
            <div class="header-cell">车次</div>
            <div class="header-cell">出发站<br>到达站</div>
            <div class="header-cell sortable">出发时间 ▲<br>到达时间 ▼</div>
            <div class="header-cell sortable">历时 ▲</div>
            <div class="header-cell">商务座<br>特等座</div>
            <div class="header-cell">优选<br>一等座</div>
            <div class="header-cell">一等座</div>
            <div class="header-cell">二等座<br>二等包座</div>
            <div class="header-cell">高级<br>软卧</div>
            <div class="header-cell">软卧/动卧<br>一等卧</div>
            <div class="header-cell">硬卧<br>二等卧</div>
            <div class="header-cell">软座</div>
            <div class="header-cell">硬座</div>
            <div class="header-cell">无座</div>
            <div class="header-cell">其他</div>
            <div class="header-cell">备注</div>
          </div>
          
          <!-- 车次数据行（示例：G12） -->
          <div class="train-row">
            <div class="train-number">
              <span class="number">G12</span>
              <span class="train-type-badge">高</span>
            </div>
            <div class="station-info">
              <div><span class="station-label">始</span> 北京南</div>
              <div><span class="station-label">终</span> 上海虹桥</div>
            </div>
            <div class="time-info">
              <div class="departure-time">14:10</div>
              <div class="arrival-time">18:41</div>
            </div>
            <div class="duration-info">
              <div class="duration">04:31</div>
              <div class="arrival-day">当日到达</div>
            </div>
            <div class="seat-availability">"10"</div>
            <div class="seat-availability not-available">--</div>
            <div class="seat-availability has-tickets">有</div>
            <div class="seat-availability has-tickets">有</div>
            <!-- ... 更多席别 -->
            <button class="book-button">预订</button>
          </div>
          
          <!-- 更多车次行... -->
        </div>
        ```
        
        **关键样式参数**:
        - 背景色: 白色
        - 表头背景: rgb(245, 245, 245)
        - Grid 列宽: 100px, 180px, 140px, 120px, 然后11个自适应列, 最后80px
        - 行高: 约60-70px
        - 车次号: 16px，蓝色，加粗
        - 时间: 18px，黑色，加粗
        - 余票文字: 13px，根据状态变色（绿色"有"，黑色数字，灰色"无"/"--"）
        - 预订按钮: 60×32px，橙色背景
        
        **余票显示规则**:
        - 余票 < 20: 显示具体数字，黑色，font-weight: 800
        - 余票 >= 20: 显示"有"，绿色(#52c41a)，font-weight: 600
        - 余票 = 0: 显示"无"，灰色(#999999)，font-weight: 500
        - 无此席别: 显示"--"，灰色(#999999)，font-weight: 500
        
        参考图片: "./images/train-list/组件特写截图/车次列表.png"
      
      dependencies: []
      
      scenarios:
        # ✅ 以下 scenarios 完整保留自初始需求文档
        
        # 4.2.1 首页通过点击"车票"快捷页面入口进入车票查询页面
        - name: 从首页进入车票查询页面采用默认搜索栏内容
          given: 用户在首页通过点击"车票"快捷页面入口
          when: 车票查询页面成功加载
          then: 车票查询页面的车次列表区域为空，且车次搜索和查询区域搜索框中均为默认状态，车票查询页面的车次信息筛选区域筛选栏中所有选项均为默认状态，即未被勾选
          
        # 4.2.2 用户在首页/查询页中输入出发站、到达站、出发日期信息后跳转
        - name: 从首页查询后跳转车票查询页面
          given: 用户在首页/查询页中输入出发站、到达站、出发日期信息
          when: 用户点击"查询"按钮
          then: 跳转到车票查询页面，车票查询页面的车次列表区域会展示符合条件的车次列表，并且自动将用户输入的出发站、到达站、出发日期填充到搜索框中
          
        - name: 从首页勾选高铁动车选项后跳转
          given: 用户在首页/查询页中输入出发站、到达站、出发日期信息后，点击"查询"按钮，即可跳转到车票查询页面，用户在首页/查询页中勾选了"GC-高铁/城际"选项
          when: 车票查询页面成功加载
          then: 车票查询页面会自动勾选车次信息筛选区域筛选框中的"GC-高铁/城际"和"D-动车"选项，车次列表区域仅展示符合条件的高铁和动车车次
          
        # 4.5.2 系统根据余票状态显示不同信息
        - name: 系统显示具体余票数量（少于20张）
          given: 用户在车票查询页面，某车次已显示在车次列表区域中
          when: 系统从数据库中加载该车次的各种席位的余票信息，该车次某种席位余票数量少于20张
          then: 该单元格直接显示剩余票数，字体大小13px，字体加粗（font-weight:800），颜色#000000（黑色），内边距2px 0
          
        - name: 系统显示"有票"（余票充足）
          given: 用户在车票查询页面，某车次已显示在车次信息列表中
          when: 系统加载该车次的各种席位的余票信息，该车次某种席位余票数量大于等于20张
          then: 该单元格显示"有"，字体大小13px，字体加粗（font-weight:600），颜色#52c41a（绿色），内边距2px 0
          
        - name: 系统显示"无票"（已售罄）
          given: 用户在车票查询页面，某车次已显示在车次信息列表中
          when: 系统加载该车次的各种席位的余票信息，该车次某种席位余票数量为0张
          then: 该单元格显示"无"，字体大小13px，字体加粗（font-weight:500），颜色#999999（灰色），内边距2px 0
          
        - name: 系统显示"--"（该车次无该席别票）
          given: 用户在车票查询页面，已根据筛选条件显示了部分车次
          when: 系统加载这些车次的各种席位的信息，某车次没有车次列表中对应席位类别（如"GZ-高铁/城际"车次没有"硬卧"席位）
          then: 该车次在车次列表区域对应单元格显示"--"，字体大小13px，字体加粗（font-weight:500），颜色#999999（灰色），内边距2px 0
          
        - name: 系统更新余票状态
          given: 用户在车票查询页面，某车次已显示在车次列表区域中，且已加载该车次的各种席位的余票信息
          when: 用户刷新界面
          then: 系统根据最新的余票信息，更新车次列表区域中对应单元格的显示内容
          
        - name: 用户超过五分钟未刷新界面
          given: 用户在车票查询页面，某车次已显示在车次列表区域中，且已加载该车次的各种席位的余票信息
          when: 用户未刷新界面，超过五分钟
          then: 系统出现弹窗提示"页面内容已过期，请重新查询！"
          
        # 4.4.1 用户在网络异常状态下尝试预定
        - name: 用户网络异常下点击"预订"
          given: 用户在车票查询页面，车次列表区域已显示，用户网络异常
          when: 用户点击某个可以预定的车次的"预定"按钮
          then: 系统弹出提示"网络忙，请稍后重试"，弹窗包含"确认"按钮，点击可以关闭弹窗并退回车票查询页面
          
        # 4.4.1 用户未登录状态下点击"预订"
        - name: 用户未登录时点击"预订"按钮
          given: 用户未登录，用户在车票查询页面，用户网络正常
          when: 用户点击任一车次后的"预订"按钮
          then: 页面中出现弹窗提示"请先登录！"，弹窗包含"确认"按钮允许用户点击并跳转至登录页面，若用户点击"取消"按钮，则弹窗关闭，用户继续在车票查询页面操作
          
        # 4.4.2 用户已登录状态下点击"预订"
        - name: 某车次车票已售罄
          given: 用户在车票查询页面，车次列表已显示
          when: 某车次所有席别状态均显示为"无"
          then: "预定"按钮显示为灰色，用户无法点击该按钮
          
        - name: 用户点击"预订"时车票恰好售罄（发生并发冲突）
          given: 用户已登录，用户在车票查询页面，用户所选车次的"预订"按钮处于可点击状态，用户网络正常
          when: 用户点击该车次后的"预订"按钮，但服务器端校验发现所有席别均已售罄
          then: 系统弹出提示"手慢了，该车次车票已售罄！"，弹窗包含"确认"按钮允许用户点击并返回车票查询页面，页面停留在车票查询页面，并刷新当前车次列表
          
        - name: 用户点击"预订"时距离发车时间不足3小时
          given: 用户已登录，用户在车票查询页面，用户所选车次距离发车时间不足3小时，用户网络正常
          when: 用户点击该车次后的"预订"按钮
          then: 页面中央出现弹窗提示"您选择的列车距开车时间很近了，进站约需20分钟，请确保有足够的时间办理安全检查、实名制验证及检票等手续，以免耽误您的旅行。"，提示弹窗包含"确认"和"取消"按钮，点击"确认"按钮关闭弹窗并在100ms之内加载购票页面，点击"取消"按钮关闭弹窗，用户继续在车票查询页面操作
          
        - name: 用户点击有余票车次的"预订"按钮
          given: 用户已登录，用户在车票查询页面，用户所选车次有余票（席别状态显示为具体数字或"有"），用户网络正常
          when: 用户点击该车次后的"预订"按钮
          then: 页面在100ms之内跳转到该车次的购票页面
          
        - name: 用户点击"预定"按钮时距离车次列表上次刷新时间超过5分钟
          given: 用户已登录，用户在车票查询页面，当前时间距离车次列表上次刷新时间超过5分钟
          when: 用户点击某可以被预定的车次后的"预订"按钮
          then: 页面中央出现弹窗提示"页面内容已过期，请重新查询！"，提示弹窗包含"确认"和"取消"按钮，点击"确认"按钮重新加载并刷新当前车次列表，点击"取消"按钮关闭弹窗，车次列表保持不变并且刷新时间仍然为上次的刷新时间
          
        # 通用场景
        - name: 无符合条件的车次
          given: 用户筛选条件过严或查询的线路当天无车次
          when: 页面加载完成
          then: 车次列表区域为空白并出现提示"暂无符合条件的车次"，内边距60px 20px，文字颜色#999999（灰色），图标字体大小48px，文字字体大小16px，颜色#666666（深灰色）
          
        - name: 车次加载中
          given: 用户刚进入车次列表页，数据还在加载
          when: 页面正在加载
          then: 显示加载动画或"正在查询，请稍候..."提示
      
      children: []
    
    - id: REQ-TRAIN-LIST-BOTTOM
      name: 底部导航
      description: |
        页面底部的友情链接和版权信息区域（与首页共用）。
        
        **需要截图**: 是
        **组件定位**: 页面最底部
        **定位提示**: footer, [role="contentinfo"]
        
        **功能要求**：
        - 显示友情链接
        - 显示二维码
        - 显示版权和备案信息
        
        --- 以下是 UI Analyzer 添加的详细分析 ---
        
        **位置信息**:
        - 父容器: .train-list-page
        - 位置: 页面底部
        - 坐标: (0, 814)
        - 尺寸: 1512px × 197px
        - 布局: Flexbox，左右分布
        
        **HTML 结构** (简化):
        
        > ⚠️ 实际 class 名称: `.bottom-navigation`
        
        ```html
        <footer class="bottom-navigation">
          <div class="footer-container">
            <!-- 友情链接区域 -->
            <div class="friend-links-section">
              <h3>友情链接</h3>
              <div class="friend-links-grid">
                <img src="/images/友情链接-左上.png" alt="中国国家铁路集团有限公司" />
                <img src="/images/友情链接-右上.png" alt="中国铁路客户保险总公司" />
                <img src="/images/友情链接-左下.png" alt="中铁银通支付有限公司" />
                <img src="/images/友情链接-右下.png" alt="中铁程科技有限责任公司" />
              </div>
            </div>
            
            <!-- 二维码区域 -->
            <div class="qr-code-section">
              <div class="qr-code-labels">
                <span>中国铁路官方微信</span>
                <span>中国铁路官方微博</span>
                <span>12306 公众号</span>
                <span>铁路12306</span>
              </div>
              <div class="qr-code-grid">
                <img src="/images/中国铁路官方微信二维码.png" alt="中国铁路官方微信" />
                <img src="/images/中国铁路官方微博二维码.png" alt="中国铁路官方微博" />
                <img src="/images/12306公众号二维码.png" alt="12306 公众号" />
                <img src="/images/铁路12306二维码.png" alt="铁路12306" />
              </div>
              <p class="disclaimer">官方APP下载，目前铁路未授权其他网站或APP开展类似服务内容，敬请广大用户注意。</p>
            </div>
          </div>
        </footer>
        ```
        
        **关键样式参数**:
        - 背景色: rgb(245, 245, 245) - 浅灰色
        - 内边距: 40px 0
        - 友情链接: 2×2 Grid，每个176×30px
        - 二维码: 1×4 Flexbox，每个80×80px
        - 标题字体: 16px，font-weight: 500
        - 免责声明: 12px，灰色
        
        **网页资源** (全部复用首页资源):
        - 友情链接-左上: "../homepage/首页-底部导航-中国国家铁路集团Logo.png" (176×30px)
        - 友情链接-右上: "../homepage/首页-底部导航-中国铁路客户保险Logo.png" (176×30px)
        - 友情链接-左下: "../homepage/首页-底部导航-中铁银通支付Logo.png" (176×30px)
        - 友情链接-右下: "../homepage/首页-底部导航-中铁程科技Logo.png" (176×30px)
        - 微信二维码: "../homepage/首页-底部导航-中国铁路官方微信二维码.png" (80×80px)
        - 微博二维码: "../homepage/首页-底部导航-中国铁路官方微博二维码.png" (80×80px)
        - 公众号二维码: "../homepage/首页-底部导航-12306公众号二维码.png" (80×80px)
        - 铁路12306二维码: "../homepage/首页-底部导航-铁路12306二维码.png" (80×80px)
        
        参考图片: "./images/train-list/组件特写截图/底部导航.png"
      
      dependencies: []
      scenarios: []
      children: []
