# UI 调整迭代日志

## Iteration 1（购票成功页 /success/:orderId）
- **对比基准**：
  - 目标参考图：`target_image.png`
  - 复刻截图（修改前）：`replica_page_iteration_1.png`
  - 复刻截图（修改后）：`replica_page_iteration_1_after2.png`

- **差异点（按优先级：缺失/多余 > 位置和尺寸 > 颜色 > 其他）**：
  1. **主内容区宽度不一致**：目标页主内容列明显更窄并居中（约 980px），复刻页主内容列更宽、左右留白不一致（主内容区）- **位置/尺寸**
  2. **成功提示框排版不一致**：目标页为“图标 + 单行 greet（含订单号）+ 两段 12px 灰字说明”，复刻页原先为多行/字号偏大且对齐方式不同（成功提示框）- **位置/尺寸**
  3. **操作按钮尺寸不一致**：目标页按钮约 120×28/122×30、12px 字号，复刻页原先按钮更大（操作按钮区）- **位置/尺寸**
  4. **订单信息模块宽度/标题栏样式不一致**：目标页订单信息模块与成功提示框同列宽（约 978px），标题栏字号/内边距更小；复刻页原先模块更宽且字号偏大（订单信息区）- **位置/尺寸**
  5. **温馨提示模块内边距/字号不一致**：目标页温馨提示块 padding 更小、标题为 14px 常规字重；复刻页原先 padding 更大、字号偏大（温馨提示区）- **位置/尺寸**
  6. **广告横幅宽度不一致**：目标页广告横幅与主内容列宽一致，复刻页原先更宽（广告区）- **位置/尺寸**

- **从目标官网提取的关键信息（用于精确对齐）**：
  - 成功提示框 `.t-succ`：宽约 **978px**；内层 `.pay-tips` padding **15px 0 0 45px**；图标区域约 **42×42**
  - 文本段落 `p`：font-size **12px**、color **#666**、line-height **20px**、padding-left **60px**；第二段为 bold
  - 订单号高亮 `.colorA`：color **rgb(251, 116, 3)**、font-size **12px**
  - 按钮：继续购票 **120×28**、查询订单详情 **122×30**、font-size **12px**、border-radius **4px**、margin **0 10px**

- **修复内容**：
  - **修改文件**：
    - `frontend/src/pages/PurchaseSuccessPage.css`
    - `frontend/src/components/PurchaseSuccess/SuccessBanner.tsx`
    - `frontend/src/components/PurchaseSuccess/SuccessBanner.css`
    - `frontend/src/components/PurchaseSuccess/SuccessOrderInfo.css`
    - `frontend/src/components/PurchaseSuccess/SuccessActions.css`
    - `frontend/src/components/PurchaseSuccess/SuccessTips.tsx`
    - `frontend/src/components/PurchaseSuccess/SuccessTips.css`
  - **主要调整**：
    - 主内容区收窄并居中（980px 逻辑），广告横幅按主列宽对齐
    - 成功提示区改为更贴近官网结构/字号/内边距（pay-tips/greet/p）
    - 操作按钮调整为官网尺寸/字号/边框与间距
    - 订单信息区宽度与标题栏字号/内边距对齐官网量级
    - 温馨提示区 padding/字号对齐官网量级，二维码文案对齐官网

- **验证结果**：**部分修复**
  - ✅ 主内容居中列宽、按钮大小、成功提示排版、温馨提示/广告宽度已明显更接近目标参考图
  - ⏳ 仍有细微差异（后续迭代再收敛）：如局部行高、边框颜色/粗细、部分间距等

## Iteration 2（购票成功页 /success/:orderId）
- **对比基准**：
  - 目标参考图：`target_image.png`
  - 复刻截图（修改前）：`replica_page_iteration_2.png`
  - 复刻截图（修改后）：`replica_page_iteration_2_after3.png`

- **差异点（按优先级：缺失/多余 > 位置和尺寸 > 颜色 > 其他）**：
  1. **订单信息模块外框样式不一致**：目标图外框为蓝色描边+顶部圆角且与标题栏风格一致；复刻页此前为灰边框/直角（订单信息区）- **颜色/其他**
  2. **表格分隔线样式不一致**：目标图表格为清晰的单元格网格线；复刻页此前采用“仅行分隔/虚线”的观感偏离（订单信息表格）- **颜色/其他**
  3. **“已支付”颜色不一致**：目标图为更偏橙的高亮；复刻页此前橙色值偏浅（订单状态列）- **颜色**
  4. **订单信息标题栏边框/下沿不一致**：目标图标题栏下沿有更明显的浅蓝分隔线；复刻页此前不明显（订单信息标题栏）- **颜色/其他**
  5. **表头底色不一致**：目标图表头为浅灰底；复刻页此前色值偏差（表格表头）- **颜色**

- **从目标官网提取的信息（用于确认是否文字/图片与关键值）**：
  - 成功提示框 `.t-succ`：背景 **#EDFFCC**，边框 **#298CCE**
  - “已支付” `.colorA`：color **rgb(251, 116, 3)**（#FB7403）
  - 订单信息容器 `.layout.b-info`：边框 **#1678BE**，顶部圆角 **5px**

- **修复内容**：
  - **修改文件**：
    - `frontend/src/components/PurchaseSuccess/SuccessOrderInfo.css`
  - **主要调整**：
    - 订单信息外框：改为 **#1678BE** 边框 + 顶部圆角 **5px**
    - 标题栏：恢复与目标图一致的蓝色渐变标题条与下沿浅蓝分隔
    - 表格：恢复单元格网格线（1px #D0D0D0）、表头浅灰底、表体浅蓝底
    - “已支付”：颜色调整为 **#FB7403**

- **验证结果**：**部分修复**
  - ✅ 订单信息区整体框架（边框/圆角/标题栏）与表格网格线观感更接近目标参考图
  - ⏳ 仍有细微差异：如局部间距、表格列宽/字重、个别灰线粗细等（后续迭代继续收敛）

## Iteration 3（购票成功页 /success/:orderId）
- **对比基准**：
  - 目标参考图：`target_image.png`
  - 目标区域特写：`requirements/images/purchase-success/组件特写截图/订单详情区域.png`
  - 复刻区域截图（修复前）：`replica_page_iteration_3_orderinfo_current.png`
  - 复刻区域截图（修复后）：`replica_page_iteration_3_orderinfo_after2.png`

- **差异点（按优先级：缺失/多余 > 位置和尺寸 > 颜色 > 其他）**：
  1. **星期几展示错误且被硬编码**：目标图星期几随日期变化；复刻页此前固定写死“周日”（车次信息行）- **其他**
  2. **目的地车站样式不一致**：目标图仅出发站为红色大字，目的地站为黑色常规；复刻页此前目的地也为红色大字（车次信息行）- **颜色/其他**
  3. **车次信息行的文本拼接/间距不一致**：目标图为“G103次”紧凑展示，时间括号内有空格“06:20 开”；复刻页此前存在多余空格/拼接不一致（车次信息行）- **位置/其他**
  4. **表格表头对齐不一致**：目标图表头文字居中；复刻页此前因样式覆盖导致表头偏左（订单信息表格）- **位置**
  5. **订单状态高亮不一致**：目标图“已支付”为橙色高亮；复刻页此前因选择器优先级问题被表格 `td` 颜色覆盖显示为黑色（订单状态列）- **颜色**

- **从目标官网提取/确认的关键信息（用于精确对齐）**：
  - 出发站：红色 **#FF0000**、字号约 **26px**、粗体
  - “已支付”高亮：橙色 **#FB7403**（rgb(251,116,3)）

- **修复内容**：
  - **修改文件**：
    - `frontend/src/components/PurchaseSuccess/SuccessOrderInfo.tsx`
    - `frontend/src/components/PurchaseSuccess/SuccessOrderInfo.css`
  - **主要调整**：
    - 星期几：改为根据 `orderInfo.date` 动态计算（不再硬编码）
    - 车次信息行：区分出发/到达站样式（仅出发站红色大字），并对齐“次/站/时间括号空格/分隔符”展示
    - 表格：恢复表头居中 + 表体浅蓝底，并修复 `.status-paid` 选择器特异性（确保橙色高亮生效）

- **验证结果**：**部分修复**
  - ✅ 星期几已动态计算；目的地站不再红色加大；“已支付”橙色高亮恢复；表格对齐与底色更接近参考图
  - ⏳ 仍有细微差异：如车次信息行个别字重/间距、表格列宽与下方分隔线细节（后续迭代继续收敛）
